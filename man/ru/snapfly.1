.TH SnapFly 0.9 "3 Апреля 2011"
.SH ИМЯ
SnapFly \- Легковесное GTK меню, которое можно запустить как в режиме 'демона' (при этом его можно будет вызвать в любом месте экрана под курсором мыши без значка в трее) так и в обычном режиме, со значком в системном лотке. Является форком проекта adeskmenu. 
.SH ОБЗОР
.B snapfly
[
.B -v
]
[
.B -c config_file
]
.SH ОПЦИИ
.TP
.B -v
Показать номер версии и выйти.
.TP
.B -c config_file
Использовать 
.B config_file
как файл конфигурации.
.SH РАСПОЛОЖЕНИЕ ФАЙЛОВ
.TP
.B Расположение конфигурационного файла
Конфигурационный файл находится в директории 
.I ~/.config/snapfly 
и называется config.
.TP
.B Расположение файла пользовательского меню
Файл пользовательского меню находится в директории 
.I ~/.config/snapfly 
и называется usermenu.
.TP
.B Расположение файла с "черным списком" пунктов меню
"Черный список"(blacklist) пунктов меню может быть директорией или файлом, и распологается в  
.I ~/.config/snapfly/blacklist. 
.SH ФАЙЛ КОНФИГУРАЦИИ
.TP
Файл конфигурации имеет вид параметр=значение (между параметр, знаком равно и значением не должно быть пробелов). Если параметру задано недопустимое значение \- он принимает значение по умолчанию. Строки, в начале которых стоит символ '#', являются комментариями.
.TP
.B terminal
Задает эмулятор терминала, используемый при запуске программы. Значение: полный путь к эмулятору терминала.
.TP
.B systray
Определяет, показывать значок в трее или нет. Значение: true или false.
.TP
.B rounded
Уровень скругления углов окна. Если установить значение в 0, то прорисовка будет происходить гораздо быстрее. Значение: 0-255.
.TP
.B menu_width
Задает ширину меню. Значение: любое положительное целое число.
.TP
.B bg_color
Задает цвет фона меню. Значение: цвет в HTML формате (#0A0B0C).
.TP
.B border_color
Задает цвет обрамления меню. Значение: цвет в HTML формате (#0A0B0C).
.TP
.B hide_list
Скрывает пункты, специфичные для определенной DE. Значение: список, разделенный запятыми (GNOME,KDE,LXDE,ROX,Old). После последнего элемента списка запятая не ставится.
.TP
.B category_click
Переходить в выбранную категорию при клике мышью на название категории, или переходить в выбранную категорию при наведении мыши на название категории. Значение: false (переключать категории по наведению мыши) или true (переключать категории по клику).
.TP
.B favorites
В случае заданных переменных среды, таких как $BROWSER или $EMAIL_READER, они будут отображаться в категории Избранное. Значение: true или false.
.B desktop_dirs
Если переменная задана - то поиск .desktop файлов будет проводиться только в указанных директориях. Если переменная не задана - будет использоваться стандартный список директорий для поиска (/usr/share/applications/,$HOME/.local/share/applications/,/usr/local/share/applications/,/usr/share/applications/kde4/,/usr/local/share/applications/kde4/). Символ '~' заменяется на домашнюю директорию текущего пользователя. Значение: список директорий, разделённый запятыми.
.SH ПОЛЬЗОВАТЕЛЬСКОЕ МЕНЮ
.TP
В SnapFly есть возможность добавлять свои категории и пункты меню. Файл пользовательского меню находится в ~/.config/snapfly/usermenu. Структура файла:
.TP
.B @Название_Категории##/путь/к/изображению/категории.png
Эта строка создает новую категорию в меню. Сразу же после этой строки идут объявления пунктов этой категории. В файле пользовательского меню может быть объявлено неограниченное количество категорий.
.TP
.B /путь/к/программе/в/Название_Категории##/путь/к/изображению/пункта.png##Наименование Пункта##Описание Пункта
Эта строка создает новый пункт в категории 
.B Название_Категории.
После объявления категории может быть объявлено неограниченное число пунктов. Переменная $HOME заменяется на домашнюю директорию текущего пользователя.
.TP
Также, Вы можете добавлять свои пункты меню создавая .desktop файлы в директории ~/.local/share/applications/.
.SH ЧЕРНЫЙ СПИСОК
.TP
Чёрный список, это список названий .desktop файлов, которые не должны отображаться в меню.
.TP
Для создания чёрного списка, необходимо знать имя .desktop файла приложения, эту информацию можно увидеть в эмуляторе терминала при запуске SnapFly в отладочном режиме.
.TP
.I ~/.config/snapfly/blacklist
Чёрный список, он может быть либо файлом, либо директорией.
.TP
В случае, если ~/.config/snapfly/blacklist является файлом, то имена .desktop файлов в нем должны перечисляться построчно.
.TP
В случае, если ~/.config/snapfly/blacklist/ \- директория, то SnapFly не будет отображать те файлы или символьные ссылки, имена которых совпадают с .desktop файлами, находящимися в этой директории.
.TP
Если в системе установлен pyinotify, то при изменении чёрного списка можно не перезапускать snapfly.
.SH ПЕРЕМЕННЫЕ ОКРУЖЕНИЯ
.TP
Когда определена переменная SNAPDEBUG определена как "", SnapFly будет выводить в stderr дополнительную информацию.
Если она имеет какое-то значение, то это значение будет восприниматься, как путь к лог файлу, и все логи будут валиться в него.
Если она не определено, то допинфа выводится не будет.
.TP
Пример запуска SnapFly в режиме отладки:
.TP
.B SNAPDEBUG= snapfly
.SH ПОДДЕРЖКА DBUS
.TP
SnapFly может принимать некоторые команды через DBUS. В данный момент поддерживаются сдедующие команды (далее показаны примеры с использованием приложения dbus-send):
.TP
.B dbus-send --session --type=method_call --dest=ru.agilialinux.openbox /snapfly ru.agilialinux.openbox.toggle
Открывает меню SnapFly. Активная категория - последняя выбранная.
.TP
.B dbus-send --session --type=method_call --dest=ru.agilialinux.openbox /snapfly ru.agilialinux.openbox.show int32:ЧИСЛО
Открывает меню SnapFly на указанной (переменная
.B ЧИСЛО
) категории.
.B ЧИСЛО
может быть номером категории (счет ведется сверху вниз, от нуля), или любым отрицательным числом (для выбора последней категории).
.SH БАГИ
.TP
Сообщать о всех найденных багах желательно сюда: http://code.google.com/p/snapfly/issues/list . Там же можно найти и список всех найденных багов.
